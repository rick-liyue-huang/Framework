<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>

    // 要实现的功能
//    1. 传入一个基本选择器（id, class, tag），获得元素数组
//    2.传入一个组合选择器，将结果数组返回
//     可以化为 多次调用基本选择器函数， 在结果合并

//    3. 传入有一个后代元素选择器，返回符合要求的结果
//    得到前面的选择结果，再使用后面的选择器过滤

//    最后要实现的代码
//    var list = select('#dv');
//    var list = select('.dv');
//    var list = select('div');
//    var list = select('#dv, .c, p');
//    var list = select('#dv .c, p .c, div);

//        最简单的做法
//    我们已经知道里面已经有组合，可能有后代，但是最终都是转换为基本类型

//    pseudo-code
    var select = function (selector) {
        var selectors = selector.split(',');
        var results = [];
        for (var i = 0; i < selectors.length; i++) {
            var singleSelector = selectors[i]; // 可能包含后代选择器

            var subSelectors = singleSelector.split(' ');

//            在subselectors中找后代元素
//            假设 subSelectors 是 '.dv .c'
            var res;
            for (var j = 0; j < subSelectors.length; j++) {
                var s = subSelectors[j];
//                首先在全部中找s, 然后再结果中 找s
                res = get(s, res);

            }
            results.push.apply(results, res);

        }
        return results;
    }
</script>
</body>
</html>




























